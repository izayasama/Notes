# Chapter 1: Overview

## Operating System
>### DEFINE
>
>操作系统是一组控制和管理计算机硬件和软件资源，合理地组织计算机工作流程，以及方便用户的程序的集合。


### 研究操作系统的两个观点
* 从用户观点看：操作系统是用户与计算机硬件之间的接口。为用户使用计算机提供服务。

* 从资源管理观点看：操作系统是计算机系统资源的管理者。

### 操作系统管理的计算机系统软硬件资源包括：
1. 处理机
2. 存储器
3. 设备
4. 文件

### 资源的共享使用方式有：
* 时分复用：多个用户或程序轮流使用某个资源

* 空分复用：多个用户或程序同时使用资源的一部分

### 操作系统面临的问题
* **处理机管理**：如何分配回收处理机
* **内存管理**：内存分配回收，信息保护
* **设备管理**：设备分配回收、缓冲管理
* **文件管理**：文件存储、共享保护及检索
* **作业管理**：作业合理搭配（如CPU型与I/O型）

### 操作系统类型

#### 批处理系统
> 批处理技术是指计算机系统对一批作业自动进行处理的一种技术。
##### 单道批处理系统
> 内存中始终只保持一道作业的批处理系统称为单道批处理系统

###### 特征
* **自动性**：自动依次运行，无人工干预
* **顺序性**：完成顺序与进入顺序相同
* **单道性**：内存只有一道作业

联机输入/输出：输入/输出操作在主机控制下进行。
脱机输入/输出：输入/输出操作在外围机的控制下，脱离主机进行。


##### 多道批处理系统
> 在批处理系统中引入多道程序设计技术后就形成了多道批处理系统。

###### 特征
* **多道性**：计算机内存中同时存放几道相互独立的程序。
* **无序性**：进入顺序与完成顺序无严格对应关系。
* **调度性**：作业从提交到完成经历两级调度：作业调度、进程调度。

#### 分时操作系统
> 在操作系统中采用*分时技术*就形成了分时操作系统。
>> 分时技术
>>
>> 把处理机的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。
>> 若某个作业在分配给它的时间片内不能完成其计算，则该作业暂停运行，把处理机让给另一个作业使用，等待下一轮时再继续其运行。

##### 分时系统实现中的关键问题
* 及时接收：设置多路卡
* 及时处理：时间片轮转

#### 实时系统
> 实时系统是指系统能及时响应外部事件的请求，在规定的时间范围内完成对该事件的处理，并控制实时任务协调一致地运行。

##### 实时控制系统
> 指以计算机为中心的生产过程控制系统。

##### 实时信息处理系统
> 要求对信息进行实时处理的系统。

##### 特征
* 及时性：响应时间由控制对象决定。
* 可靠性：高可靠性。

#### 通用操作系统
> 兼有批处理、分时和实时操作系统三者或其中两者的功能的操作系统
***
以上为基本操作系统

#### 嵌入式操作系统
> 对整个智能芯片以及它所控制的各种部件模块等资源进行统一调度、指挥和控制的系统软件称为嵌入式操作系统。

#### 个人计算机操作系统


#### 网络操作系统
> 网络操作系统是基于计算机网络的，是在各种计算机操作系统上按网络体系结构协议标准开发的软件，包括网络管理、通信、资源共享、系统安全和各种网络应用服务，其目标是互相通信及资源共享。

#### 分布式操作系统
> 分布式系统是指多个分散的处理单元经互连网络连接而形成的系统，其中每个处理单元既具有高度自治性又相互协同，能在系统范围内实现资源管理、任务动态分配，> > 并能并行地运行分布式程序。
> 配置在分布式系统上的操作系统称为分布式操作系统。

##### 分布式操作系统与网络操作系统的比较
* 分布性：分布式系统中的处理和控制功能较均匀分布在系统的各个站点上；而网络系统中控制功能大多集中在网络服务器上。
* 并行性：分布式系统中的任务分配程序可将多个任务分配到系统的多个处理单元上并行执行；而网络系统中每个用户的任务通常在自己的计算机上处理。
* 透明性：分布式系统能很好隐藏系统内部的实现细节，对象的物理位置、并发控制及系统故障等对用户是透明的；而网络系统中主要是操作实现上的透明。
* 共享性：分布式系统中各站点上的资源可供所有用户共享；而网络系统中共享的资源主要设置在服务器上。
*健壮性：由于分布式系统的控制功能分布，当站点故障时可以通过容错来重构系统以保证系统正常运行；而网络系统中控制功能主要集中在服务器上，使系统具有潜在的 不可靠性。

### 基本特征
#### 并发：是指两个或多个事件在同一时间间隔内发生。
#### 共享：指系统中的资源可供多个并发执行的进程共同使用。
##### 方式
* 互斥共享：一段时间只允许一个进程访问
* 同时访问：一段时间允许多个进程访问 
***
以上为最基本特征
#### 虚拟：指把一个物理上的实体变为若干个逻辑上的对应物。
#### 不确定：表现为多个作业的执行顺序和每个作业的执行时间是不确定的。（异步性）

### 作用
* 操作系统是用户与计算机硬件之间的接口
* 操作系统为用户提供虚拟机
* 操作系统是计算机系统的管理者

### 操作
#### 共享
共享系统资源要求操作系统确保一个出错程序不会引起其他程序的运行错误。
#### 双重模式操作
* 用户模式 1

用户态：又称目态，是用户程序执行时机器所处的状态。这种状态具有较低特权，只能执行规定的指令，访问指定的寄存器和存储区。

* 内核模式 0

核心态：又称管态、系统态，是操作系统管理程序执行时机器所处的状态。这种状态具有较高的特权，能执行一切指令，访问所有的寄存器和存储区。

#### 内存管理
* 记录内存的哪部分正在被使用及被谁使用
* 决定将哪个进程及其数据调入（调出）内存
* 需要时分配和收回存储空间

#### 存储器管理
存储器管理的主要任务是方便用户使用存储器，提高存储器利用率，从逻辑上扩充内存。

##### 内存分配
> 内存分配的任务是按一定的策略为每道程序分配内存，程序运行结束后回收内存。
内存分配方式有静态和动态两种：
* 静态：作业的内存空间在装入时确定，作业装入内存后不允许再申请新的内存空间，也不能在内存中移动。
* 动态：作业需要的基本内存空间在装入时确定，允许作业运行期间继续申请新的附加内存空间，允许作业在内存中移动。


##### 保护
> 内存保护的任务是保证各程序在自己的内存区域内运行而不相互干扰。
上下界寄存器

##### 地址映射
逻辑地址：用户编程时所使用的地址。又称相对地址、虚地址。

地址空间：逻辑地址的集合。

物理地址：内存中的地址。又称绝对地址、实地址。

内存空间：物理地址的集合。

> 将逻辑地址转换为物理地址。又称地址变换。 

##### 内存扩充
> 借助虚拟存储技术从逻辑上扩充内存。 
通过请求调入和置换功能可以实现虚拟内存

#### 文件管理功能
> 文件管理的主要任务是对文件进行管理，方便用户使用并保证文件安全性。

文件存储空间的管理：对文件存储空间进行管理，包括存储空间的分配与回收等功能。

目录管理：管理文件的数据结构，提供按名存取的功能。

文件操作管理：从外存读入数据或将数据写入外存。

文件保护：防止未授权用户存取文件；防止授权用户以不正确方式存取文件。

### I/O系统
##### I/O 子系统
* 缓冲区、高速缓存和假脱机系统的内存管理部分
* 通用设备驱动器接口
* 特定硬件设备的驱动程序
##### 设备管理功能
* 设备分配：根据用户的I/O请求，为之分配所需的设备，设备使用完成后还应回收。
* 缓冲管理：对各类设备缓冲区进行有效管理。
* 设备驱动：主要完成设备启动、I/O操作及中断处理。
* 设备独立性又称设备无关性，是指用户程序中的设备与实际使用的物理设备无关。

### 运行环境
> 计算机硬件所提供的支持，构成了现代操作系统的运行环境。
* 处理机
* 存储器
* 设备
* 时钟
* 中断等 
